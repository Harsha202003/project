<div class="editor-page">

  <!-- Header -->
  <div class="editor-header">
    <div>
      <h2>{{ template?.name }}</h2>
      <!-- <div class="subtitle">Edit template body and fields below</div> -->
    </div>

    <div class="actions">
      <button class="publish" (click)="publish()">Publish</button>
      <button class="preview" (click)="preview()">Preview</button>
    </div>
  </div>

  <!-- Layout Grid -->
  <div class="editor-grid">

    <!-- Left Side - Template Editor -->
    <div class="card left">
      <h3>Template Body</h3>

      <app-rich-text
        [content]="editorContent"
        (contentChange)="onEditorChange($event)">
      </app-rich-text>
    </div>

    <!-- Right Side -->
    <div class="editor-sidebar">

      <section>
        <h3>Form Fields</h3>
        <app-dynamic-form
          [schema]="template?.schema"
          [(value)]="formValues">
        </app-dynamic-form>
      </section>

      <section>
        <h3>Attachments</h3>
        <app-file-upload (uploaded)="onUploaded($event)"></app-file-upload>
      </section>

      <section>
        <h3>Schema Builder</h3>
        <app-schema-builder
          [fields]="template?.schema?.fields"
          (schemaChange)="onSchemaChange($event)">
        </app-schema-builder>
      </section>

    </div>
  </div>

</div>
