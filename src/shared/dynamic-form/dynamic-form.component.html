<div *ngFor="let field of schema.fields" class="form-field">

  <label>
    {{ field.label }}
    <span *ngIf="field.required" class="required">*</span>
  </label>

  <!-- TEXT -->
  <input *ngIf="field.type === 'text'" type="text" [(ngModel)]="formValues[field.key]"
    (ngModelChange)="onValueChange()" />

  <!-- NUMBER -->
  <input *ngIf="field.type === 'number'" type="number" [(ngModel)]="formValues[field.key]"
    (ngModelChange)="onValueChange()" />

  <!-- DATE -->
  <input *ngIf="field.type === 'date'" type="date" [(ngModel)]="formValues[field.key]"
    (ngModelChange)="onValueChange()" />

  <!-- TEXTAREA -->
  <textarea *ngIf="field.type === 'textarea'" [(ngModel)]="formValues[field.key]" (ngModelChange)="onValueChange()">
  </textarea>

  <!-- âœ… MULTISELECT (IMPORTANT PART) -->
  <select *ngIf="field.type === 'multiselect'" multiple [(ngModel)]="formValues[field.key]"
    (ngModelChange)="onValueChange()">

    <option *ngFor="let opt of field.options" [value]="opt.value">
      {{ opt.label }}
    </option>

  </select>

  <!-- CHECKBOX -->
  <input *ngIf="field.type === 'checkbox'" type="checkbox" [(ngModel)]="formValues[field.key]"
    (change)="onValueChange()" />

  <!-- ERROR -->
  <div class="error" *ngIf="errors?.[field.key]">
    {{ errors[field.key] }}
  </div>

</div>