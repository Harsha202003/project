<div class="form-wrapper">

  <div class="form-field" *ngFor="let field of schema.fields">

    <label>
      {{ field.label }}
      <span *ngIf="field.required" class="required">*</span>
    </label>

    <ng-container [ngSwitch]="field.type">

      <!-- TEXT -->
      <input *ngSwitchCase="'text'" type="text" [(ngModel)]="formValues[field.key]"
        (ngModelChange)="updateValue(field.key, $event)" />

      <!-- TEXTAREA -->
      <textarea *ngSwitchCase="'textarea'" rows="3" [(ngModel)]="formValues[field.key]"
        (ngModelChange)="updateValue(field.key, $event)">
      </textarea>

      <!-- NUMBER -->
      <input *ngSwitchCase="'number'" type="number" [(ngModel)]="formValues[field.key]"
        (ngModelChange)="updateValue(field.key, $event)" />

      <!-- DATE -->
      <input *ngSwitchCase="'date'" type="date" [(ngModel)]="formValues[field.key]"
        (ngModelChange)="updateValue(field.key, $event)" />

      <!-- CHECKBOX -->
      <input *ngSwitchCase="'checkbox'" type="checkbox" [checked]="formValues[field.key]"
        (change)="toggleCheckbox(field.key, $event.target.checked)" />

      <!-- MULTISELECT -->
      <select *ngSwitchCase="'multiselect'" multiple (change)="updateMultiSelect(field.key, $event)">
        <option *ngFor="let opt of field.options" [value]="opt.value">
          {{ opt.label }}
        </option>
      </select>

    </ng-container>

    <!-- ERROR -->
    <div class="error" *ngIf="errors[field.key]">
      {{ errors[field.key] }}
    </div>

  </div>

</div>