<div class="rt-container">
  <div class="rt-toolbar">
    <button (click)="exec('bold')" title="Bold"><b>B</b></button>
    <button (click)="exec('italic')" title="Italic"><i>I</i></button>
    <button (click)="exec('underline')" title="Underline"><u>U</u></button>
    <button (click)="exec('strikeThrough')" title="Strike"><s>S</s></button>

    <span class="sep"></span>

    <button (click)="exec('insertUnorderedList')" title="Bullet">•</button>
    <button (click)="exec('insertOrderedList')" title="Numbered">1.</button>

    <span class="sep"></span>

    <button (click)="exec('justifyLeft')" title="Align left">≡</button>
    <button (click)="exec('justifyCenter')" title="Center">≣</button>
    <button (click)="exec('justifyRight')" title="Align right">→</button>

    <span class="sep"></span>

    <button (click)="toggleMoreMenu()" title="More">⋯</button>

    <!-- undo / redo -->
    <button (click)="undo()" title="Undo">↶</button>
    <button (click)="redo()" title="Redo">↷</button>
  </div>

  <!-- More menu -->
  <div class="more-menu" *ngIf="showMoreMenu">
    <div class="menu-item" (click)="exec('formatBlock', '<p>'); closeMore()">Paragraph</div>
    <div class="menu-item" (click)="insertCodeBlock(); closeMore()">Code block</div>
    <div class="menu-item" (click)="clearFormatting(); closeMore()">Clear formatting</div>
    <div class="menu-item" (click)="exec('outdent'); closeMore()">Decrease indent</div>
    <div class="menu-item" (click)="exec('indent'); closeMore()">Increase indent</div>
    <div class="menu-item" (click)="insertHorizontalRule(); closeMore()">Insert horizontal rule</div>
    <div class="menu-item" (click)="openTablePrompt()">Insert table (pick)</div>
  </div>

  <!-- optional inline simple table prompt -->
  <div class="table-prompt" *ngIf="showTablePrompt">
    <label>Rows: <input type="number" min="1" max="10" [(ngModel)]="tableRows"></label>
    <label>Cols: <input type="number" min="1" max="10" [(ngModel)]="tableCols"></label>
    <div class="table-actions">
      <button (click)="insertTable(tableRows, tableCols); closeTablePrompt(); closeMore()">Insert</button>
      <button (click)="closeTablePrompt()">Cancel</button>
    </div>
  </div>

  <!-- editable content area -->
  <div
    #editor
    class="rt-editor"
    contenteditable="true"
    (input)="onInput()"
    (keyup)="onKeyUp($event)"
    placeholder="Type a message..."
  ></div>
</div>
